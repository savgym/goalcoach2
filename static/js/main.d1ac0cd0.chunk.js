(this.webpackJsonpgoalcoach=this.webpackJsonpgoalcoach||[]).push([[0],{60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(25),s=n.n(r),i=n(19),o=n(12),c=n(13),l=n(28);n(54),n(56);console.log("process.env",Object({NODE_ENV:"production",PUBLIC_URL:"/goalcoach2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBedTiiKoV87anWmvr29tKzfTg2hvQgquE"}));var u=l.a.initializeApp({apiKey:"AIzaSyBedTiiKoV87anWmvr29tKzfTg2hvQgquE",authDomain:"goalcoach-ef72e.firebaseapp.com",databaseURL:"https://goalcoach-ef72e-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"goalcoach-ef72e",storageBucket:"goalcoach-ef72e.appspot.com",messagingSenderId:"375149489181",appId:"1:375149489181:web:1a1713e54dc64fb7312af4",measurementId:"G-6WCWWBVNTP"}),p=l.a.database().ref("goals"),h=l.a.database().ref("completeGoals"),j="SIGNED_IN",b="SET_GOALS",d="SET_COMPLETED ";var m={email:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n=t.email;return m={email:n};default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n=t.goals;return n;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var n=t.completeGoals;return n;default:return e}},f=Object(i.b)({user:g,goals:v,completeGoals:O}),x=n(8),y=n(9),C=n(11),S=n(10),k=n(3),N=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={title:""},a}return Object(y.a)(n,[{key:"addGoal",value:function(){console.log("this",this);var e=this.state.title,t=this.props.user.email;p.push({email:t,title:e})}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"form-inline",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"Add a goal",onChange:function(t){return e.setState({title:t.target.value})}}),Object(k.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){return e.addGoal()},children:"Submit"})]})})}}]),n}(a.Component);var E=Object(o.b)((function(e){return{user:e.user}}),null)(N),G=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"completeGoal",value:function(){var e=this.props.user.email,t=this.props.goal,n=t.title,a=t.serverKey;console.log("serverKey",a),p.child(a).remove(),h.push({email:e,title:n})}},{key:"render",value:function(){var e=this;console.log("this.props.goals",this.props.goals);var t=this.props.goal,n=t.email,a=t.title;return Object(k.jsxs)("div",{style:{margin:"5px"},children:[Object(k.jsx)("b",{children:a}),Object(k.jsxs)("span",{style:{marginRight:"5px"},children:[" submitted by ",Object(k.jsx)("em",{children:n})]}),Object(k.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.completeGoal()},children:"Complete"})]})}}]),n}(a.Component);var w=Object(o.b)((function(e){return{user:e.user}}),null)(G),I=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.on("value",(function(t){var n=[];t.forEach((function(e){var t=e.val(),a=t.email,r=t.title,s=e.key;n.push({email:a,title:r,serverKey:s}),console.log("goal",e)})),e.props.setGoals(n)}))}},{key:"render",value:function(){return console.log("this.props.goals",this.props.goals),Object(k.jsx)("div",{children:this.props.goals.map((function(e,t){return Object(k.jsx)(w,{goal:e},t)}))})}}]),n}(a.Component);var T=Object(o.b)((function(e){return{goals:e.goals}}),{setGoals:function(e){return{type:b,goals:e}}})(I),A=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.on("value",(function(t){var n=[];t.forEach((function(e){var t=e.val(),a=t.email,r=t.title;n.push({email:a,title:r})})),console.log("completeGoals",n),e.props.setCompleted(n)}))}},{key:"clearCompleted",value:function(){h.set([])}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[this.props.completeGoals.map((function(e,t){var n=e.title,a=e.email;return Object(k.jsxs)("div",{children:[Object(k.jsx)("strong",{children:n})," completed by ",Object(k.jsx)("em",{children:a})]},t)})),Object(k.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.clearCompleted()},children:"Clear All"})]})}}]),n}(a.Component);var _=Object(o.b)((function(e){return{completeGoals:e.completeGoals}}),{setCompleted:function(e){return{type:d,completeGoals:e}}})(A),K=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"signOut",value:function(){u.auth().signOut()}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{margin:"5px"},children:[Object(k.jsx)("h3",{children:"Goals Coach"}),Object(k.jsx)(E,{}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{children:"Goals"}),Object(k.jsx)(T,{}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{children:"Complete Goals"}),Object(k.jsx)(_,{}),Object(k.jsx)("hr",{}),Object(k.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.signOut()},children:"Sign Out"})]})}}]),n}(a.Component);var R=Object(o.b)((function(e){return{}}),null)(K),P=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",error:{message:""}},a}return Object(y.a)(n,[{key:"signIn",value:function(){var e=this;console.log("this.state",this.state);var t=this.state,n=t.email,a=t.password;u.auth().signInWithEmailAndPassword(n,a).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"form-inline",style:{margin:"5%"},children:[Object(k.jsx)("h2",{children:"Sing In"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),Object(k.jsx)("input",{className:"form-control",type:"password",style:{marginRight:"5px"},placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),Object(k.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signIn()},children:"Sign In"})]}),Object(k.jsx)("div",{children:this.state.error.message}),Object(k.jsx)("div",{children:Object(k.jsx)(c.a,{to:"/signup",children:"Sign up instead"})})]})}}]),n}(a.Component),W=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",error:{message:""}},a}return Object(y.a)(n,[{key:"signUp",value:function(){var e=this;console.log("this.state",this.state);var t=this.state,n=t.email,a=t.password;u.auth().createUserWithEmailAndPassword(n,a).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"form-inline",style:{margin:"5%"},children:[Object(k.jsx)("h2",{children:"Sign Up"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),Object(k.jsx)("input",{className:"form-control",type:"password",style:{marginRight:"5px"},placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),Object(k.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signUp()},children:"Sign Up"})]}),Object(k.jsx)("div",{children:this.state.error.message}),Object(k.jsx)("div",{children:Object(k.jsx)(c.a,{to:"/signin",children:"Already a user? Sing in instead"})})]})}}]),n}(a.Component),D=Object(i.c)(f);u.auth().onAuthStateChanged((function(e){if(e){var t=e.email;D.dispatch(function(e){return{type:j,email:e}}(t)),c.d.push("/app")}else c.d.replace("/signin")})),s.a.render(Object(k.jsx)(o.a,{store:D,children:Object(k.jsxs)(c.c,{path:"/",history:c.d,children:[Object(k.jsx)(c.b,{path:"/app",component:R}),Object(k.jsx)(c.b,{path:"/signin",component:P}),Object(k.jsx)(c.b,{path:"/signup",component:W})]})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.d1ac0cd0.chunk.js.map